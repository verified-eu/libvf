# libvf



> Example use from a webform


```javascript
// Fetches JWT token and company namespace from the browser URL.
// The token is required, company namespace is not.
// Alternatively you can use libvf.auth.authenticate({token: 'JWT ...})
libvf.auth.useTokenFromUrl();

// Creates a new envelope from the specified descriptor.
// If no object is passed as the second argument, a document with a hash of "1" will be generated by default.
let envelope = await libvf.envelopes.create("demo-template");

// Adds a new recipient to the envelope.
// role.name is what specifies which role this recipient belongs to and should be validated against
await envelope.addRecipient({
  givenName: "Ola",
  familyName: "Nordmann",
  language: "nb_NO",
  signingMethod: "email",
  email: "ola.nordmann@verified.eu",
  order: 1,
  role: {
    action: "sign",
    label: "Signatory",
    name: "signer"
  }
});

// Reflects the remote envelope data to the the local instance, parsing documents and templates.
await envelope.reflect();

// Sets the template userdata.
// In most webforms (templates), we have a document with the hash of "1" and template as source
// firstTemplate() is just a helper function to avoid writing envelope.documents[0].template to get the template instance
// Setting _isForwarded to true will trigger automatic email notifications once published
await envelope.firstTemplate().setUserData({
  _isForwarded: true
});

// Set document tags
await envelope.firstDocument().setTags(["kyc", "oslo"])

// Publishes the envelope
await envelope.publish();
```
